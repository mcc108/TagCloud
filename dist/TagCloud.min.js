/*!
 * TagCloud.js v2.5.0
 * Copyright (c) 2016-2024 @ Cong Min
 * MIT License - https://github.com/mcc108/TagCloud
 */
((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).TagCloud=t()})(this,function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)!{}.hasOwnProperty.call(o,n)||(e[n]=o[n])}return e}).apply(null,arguments)}function t(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function r(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach(function(e){var t,n;t=o,n=i[e=e],(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function a(e){e=((e,t)=>{if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=typeof(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string");return"symbol"==typeof e?e:e+""}var s=(()=>{function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,o=this,i=a;if(!(o instanceof i))throw new TypeError("Cannot call a class as a function");o=this;if(!e||1!==e.nodeType)return new Error("Incorrect element type");o.$container=e,o.texts=t||[],o.config=r(r({},a._defaultConfig),n||{}),o.radius=o.config.radius,o.depth=2*o.radius,o.size=1.5*o.radius,o.maxSpeed=a._getMaxSpeed(o.config.maxSpeed),o.initSpeed=a._getInitSpeed(o.config.initSpeed),o.direction=o.config.direction,o.keep=o.config.keep,o.paused=!1,this.touchVelocity={x:0,y:0},this.lastTouchPosition={x:0,y:0},this.lastTouchTime=0,o._createElment(),o._init(),a.list.push({el:o.$el,container:e,instance:o})}return e=a,n=[{key:"_on",value:function(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on".concat(t),n):e["on".concat(t)]=n}}],(t=[{key:"_createElment",value:function(){var n=this,o=document.createElement("div");o.className=n.config.containerClass,n.config.useContainerInlineStyles&&(o.style.position="relative",o.style.width="".concat(2*n.radius,"px"),o.style.height="".concat(2*n.radius,"px")),n.items=[],n.texts.forEach(function(e,t){e=n._createTextItem(e,t);o.appendChild(e.el),n.items.push(e)}),n.$container.appendChild(o),n.$el=o}},{key:"_createTextItem",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=document.createElement("span");return o.className=this.config.itemClass,this.config.useItemInlineStyles&&(o.style.willChange="transform, opacity, filter",o.style.position="absolute",o.style.top="50%",o.style.left="50%",o.style.zIndex=n+1,o.style.filter="alpha(opacity=0)",o.style.opacity=0,o.style.WebkitTransformOrigin=t="50% 50%",o.style.MozTransformOrigin=t,o.style.OTransformOrigin=t,o.style.transformOrigin=t,o.style.WebkitTransform=t="translate3d(-50%, -50%, 0) scale(1)",o.style.MozTransform=t,o.style.OTransform=t,o.style.transform=t),this.config.useHTML?o.innerHTML=e:o.innerText=e,r({el:o},this._computePosition(n))}},{key:"_computePosition",value:function(e){var t=this.texts.length,e=(1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(e=Math.floor(Math.random()*(t+1))),Math.acos((2*e+1)/t-1)),t=Math.sqrt((t+1)*Math.PI)*e;return{x:this.size*Math.cos(t)*Math.sin(e)/2,y:this.size*Math.sin(t)*Math.sin(e)/2,z:this.size*Math.cos(e)/2}}},{key:"_requestInterval",value:function(n,o){var i=window.requestAnimationFrame,a=(new Date).getTime(),r={};return r.value=i(function e(){r.value=i(e);var t=(new Date).getTime();o<=t-a&&(n.call(),a=(new Date).getTime())}),r}},{key:"_init",value:function(){var i=this;i.active=!1,i.mouseX0=i.initSpeed*Math.sin(i.direction*(Math.PI/180)),i.mouseY0=-i.initSpeed*Math.cos(i.direction*(Math.PI/180)),i.mouseX=i.mouseX0,i.mouseY=i.mouseY0,"ontouchstart"in window||window.navigator&&0<window.navigator.maxTouchPoints?(a._on(i.$el,"touchstart",function(){i.active=!0}),a._on(i.$el,"touchend",function(){i.active=!1}),a._on(i.keep?window:i.$el,"touchmove",function(e){var t,n,o;e.preventDefault(),e.stopPropagation(),1===e.touches.length&&(e=e.touches[0],n=i.$el.getBoundingClientRect(),t=(e.clientX-(n.left+n.width/2))/5,e=(e.clientY-(n.top+n.height/2))/5,0<(o=(n=Date.now())-i.lastTouchTime)&&(i.touchVelocity.x=(t-i.lastTouchPosition.x)/o,i.touchVelocity.y=(e-i.lastTouchPosition.y)/o),i.mouseX=t,i.mouseY=e,i.lastTouchPosition.x=t,i.lastTouchPosition.y=e,i.lastTouchTime=n)},{passive:!1})):window.matchMedia("(hover: hover)").matches&&(a._on(i.$el,"mouseover",function(){i.active=!0}),a._on(i.$el,"mouseout",function(){i.active=!1}),a._on(i.keep?window:i.$el,"mousemove",function(e){e=e||window.event;var t=i.$el.getBoundingClientRect();i.mouseX=(e.clientX-(t.left+t.width/2))/5,i.mouseY=(e.clientY-(t.top+t.height/2))/5})),i._next(),i.interval=i._requestInterval(function(){i._next.call(i)},10)}},{key:"_next",value:function(){var e,t,n,r,s=this;s.paused||(s.keep||s.active||(s.mouseX=Math.abs(s.mouseX-s.mouseX0)<1?s.mouseX0:(s.mouseX+s.mouseX0)/2,s.mouseY=Math.abs(s.mouseY-s.mouseY0)<1?s.mouseY0:(s.mouseY+s.mouseY0)/2),s.active||(s.mouseX+=50*s.touchVelocity.x,s.mouseY+=50*s.touchVelocity.y,s.touchVelocity.x*=.95,s.touchVelocity.y*=.95,Math.abs(s.touchVelocity.x)<.01&&Math.abs(s.touchVelocity.y)<.01&&(s.touchVelocity.x=0,s.touchVelocity.y=0)),e=-(Math.min(Math.max(-s.mouseY,-s.size),s.size)/s.radius)*s.maxSpeed,t=Math.min(Math.max(-s.mouseX,-s.size),s.size)/s.radius*s.maxSpeed,s.config.reverseDirection&&(e=-e,t=-t),Math.abs(e)<=.01&&Math.abs(t)<=.01)||(n=Math.PI/180,r=[Math.sin(e*n),Math.cos(e*n),Math.sin(t*n),Math.cos(t*n)],s.items.forEach(function(e){var t=e.x,n=e.y*r[0]+e.z*r[1],o=e.y*r[1]+e.z*-r[0],i=n*r[3]-t*r[2],a=2*s.depth/(2*s.depth+i);e.x=t*r[3]+n*r[2],e.y=o,e.z=i,e.scale=a.toFixed(3);t=(1<(t=a*a-.25)?1:t).toFixed(3),n=e.el,o=(e.x-n.offsetWidth/2).toFixed(2),i=(e.y-n.offsetHeight/2).toFixed(2),o="translate3d(".concat(o,"px, ").concat(i,"px, 0) scale(").concat(e.scale,")");n.style.WebkitTransform=o,n.style.MozTransform=o,n.style.OTransform=o,n.style.transform=o,n.style.filter="alpha(opacity=".concat(100*t,")"),n.style.opacity=t,n.style.zIndex=Math.round(1e3*a)}))}},{key:"update",value:function(e){var o=this,e=(o.texts=e||[],o.texts.forEach(function(e,t){var n=o.items[t];n||(i(n=o._createTextItem(e,t),o._computePosition(t,!0)),o.$el.appendChild(n.el),o.items.push(n)),o.config.useHTML?n.el.innerHTML=e:n.el.innerText=e}),o.texts.length),t=o.items.length;e<t&&o.items.splice(e,t-e).forEach(function(e){o.$el.removeChild(e.el)})}},{key:"destroy",value:function(){var t=this,e=(t.interval=null,a.list.findIndex(function(e){return e.el===t.$el}));-1!==e&&a.list.splice(e,1),t.$container&&t.$el&&t.$container.removeChild(t.$el)}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n})();s.list=[],s._defaultConfig={radius:100,maxSpeed:"normal",initSpeed:"normal",direction:135,keep:!0,reverseDirection:!1,useContainerInlineStyles:!0,useItemInlineStyles:!0,containerClass:"tagcloud",itemClass:"tagcloud--item",useHTML:!1},s._getMaxSpeed=function(e){return{slow:.5,normal:1,fast:2}[e]||1},s._getInitSpeed=function(e){return{slow:16,normal:32,fast:80}[e]||32};return function(e,t,n){(e="string"==typeof e?document.querySelectorAll(e):e).forEach||(e=[e]);var o=[];return e.forEach(function(e){e&&o.push(new s(e,t,n))}),o.length<=1?o[0]:o}});
